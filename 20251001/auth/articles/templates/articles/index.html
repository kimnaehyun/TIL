{% extends "base.html" %}

{% block content %}
  <h1>게시판</h1>
  {% comment %} 사용자 인증이 되었다면 == 로그인 했으면 {% endcomment %}
  {% comment %} 로그인한 상태 {% endcomment %}
  {% if request.user.is_authenticated %}
    <h2>안녕하세요 {{user.username}} </h2>

    <form action='{% url "accounts:logout" %}' method='POST'>
      {% csrf_token %}
      <input type='submit' value='로그아웃'>
    </form>

    <form action='{% url "accounts:delete" %}' method='POST'>
      {% csrf_token %}
      <input type='submit' value='회원 탈퇴'>
    </form>
{% comment %} 로그인 하지 않은 상태 {% endcomment %}
  {% else %}
    <a href='{% url "accounts:signup" %}'>회원가입</a>
    <a href='{% url "accounts:login" %}'>로그인</a>
  {% endif %}
  
  <hr>
    <a href="{% url 'articles:create'%}"> 게시글 생성 </a>
  <hr>
  
  {% comment %} articles <- views.py 의 context {% endcomment %}
  {% for article in articles %}
    <p>글 id : {{article.pk}} </p>
    {% comment %} articles <- app_name {% endcomment %}
    <a href="{% url "articles:detail" article.pk %}">
      <p>글 제목 : {{article.title}} </p>
    </a>
    <p>글 내용 : {{article.content}} </p>
    <hr>
  {% endfor %}

{% endblock content %}